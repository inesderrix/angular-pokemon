<div class="modal-backdrop">
    <div class="modal">
        <h3>Ajouter un Pokémon</h3>
        <form #f="ngForm" (ngSubmit)="submit(f.valid===true)">
            <label>Nom *
                <input name="name" required [(ngModel)]="model.name" />
            </label>

            <label>HP *
                <input name="hp" type="number" required [(ngModel)]="model.hp" />
            </label>

            <!-- <label>Numéro du Pokémon
                <input name="id" type="number" required [(ngModel)]="model.id" />
            </label> -->

            <label>Type d'énergie *
                <br>
                <select name="energyType" required [(ngModel)]="model.energyType">
                    <option value="" disabled selected>Choisis un type</option>
                    <option *ngFor="let type of energyTypes" [value]="type.value">
                        {{ type.label }}
                    </option>
                </select>
            </label>

            <label>Type d'énergie secondaire *
                <br>
                <select name="energySecond" required [(ngModel)]="model.energySecond">
                    <option value="" disabled selected>Choisis un type</option>
                    <option *ngFor="let type of energyTypes" [value]="type.value">
                        {{ type.label }}
                    </option>
                </select>
            </label>

            <label>Image *
                   <input name="img" type="text" required [(ngModel)]="model.milieu" placeholder="URL" />
            </label>




            <div *ngFor="let attack of model.attacks; let i = index">
                <h4>Attaque {{ i + 1 }}</h4>
                <label>Nombre d’énergies
                    <input type="number" min="1" max="3" [(ngModel)]="attack.energyCount" name="attackEnergy{{i}}">
                </label>
                <label>Nombre d’énergies secondaire
                    <input type="number" min="1" max="3" [(ngModel)]="attack.energySecond" name="attackEnergySecond{{i}}">
                </label>

                <label>Nom
                    <input name="attackName{{i}}" [(ngModel)]="attack.name" />
                </label>
                <label>Force
                    <input name="attackStrength{{i}}" type="number" [(ngModel)]="attack.strength" />
                </label>
                <label>Description
                    <input name="attackDescription{{i}}" [(ngModel)]="attack.description" />
                </label>

            </div>

            
            <button type="button" (click)="addAttack()" class="btn">Ajouter une attaque</button>
            <div class="modal-actions">
                <button type="submit" [disabled]="f.invalid" class="btn">Créer</button>
                <button type="button" (click)="close()" class="btn">Annuler</button>
            </div>
        </form>
    </div>
</div>